(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{5545:function(e,l,n){Promise.resolve().then(n.bind(n,529))},529:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return w}});var r=n(7437),s=n(9733),a=n(7114),t=n(7209),i=n(1014),c=n(9343),o=n(9888),u=n(3334),d=n(7456),x=n(4162),h=n(7776),j=n(296),f=n(7637),m=n(2265),p=n(6463),v=n(77),N=n(9983),y=n(1377),g=n(9666),V=n(6528),b=n(2183),S=n(7812),C=n(2753),F=n(4108);function w(){let e=(0,p.useRouter)(),{user:l}=(0,j.a)(),{isLoading:n,setIsLoading:w}=(0,d.r)(),[I,z]=(0,m.useState)(!1),[A,E]=(0,m.useState)(!1),[M,O]=(0,m.useState)({type:v.F.Veterinarian,fullName:"",crmv:"",uf:"",email:""}),P=(0,c.cI)({resolver:(0,i.F)(g.y),defaultValues:M});async function _(n){if(l){w(!0);try{let{message:e}=await (0,y.N)({userId:l.id,values:n});h.Am.success(e.clientMessage),O(n),P.reset(n)}catch(r){let{status:l,message:n}=r;h.Am.error(n.clientMessage),401===l&&e.replace("./login.html")}finally{w(!1)}}}return(0,m.useEffect)(()=>{if(l){let e={type:l.type,fullName:l.name,crmv:l.type===v.F.Veterinarian?l.crmv:"",uf:l.type===v.F.Veterinarian?l.uf:"",email:l.email};O(e),P.reset(e)}},[l]),(0,m.useEffect)(()=>{E((0,S.a)(M,P.getValues()))},[P.getValues()]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.h,{canNavigate:!A,beforeNavigate:()=>z(!0)}),(0,r.jsxs)(V.o,{children:[(0,r.jsx)(u.U,{size:"small",title:"Perfil"}),(0,r.jsx)("div",{className:"flex gap-2 justify-end w-full",children:l?(0,r.jsx)(C.R,{user:l,children:(0,r.jsx)(s.z,{type:"button",variant:"outline",children:"Alterar senha"})}):(0,r.jsx)(b.O,{className:"w-[100px] h-[35px]"})}),(0,r.jsx)(a.l0,{...P,children:(0,r.jsxs)("form",{onSubmit:P.handleSubmit(_),className:"flex flex-col w-full gap-4",children:[(0,r.jsx)(a.Wi,{control:P.control,name:"type",render:e=>{let{field:n}=e;return(0,r.jsxs)(a.xJ,{children:[(0,r.jsx)(a.lX,{children:"Tipo"}),(0,r.jsx)(a.NI,{children:l?(0,r.jsxs)(o.Ph,{onValueChange:n.onChange,defaultValue:l.type,children:[(0,r.jsx)(o.i4,{children:(0,r.jsx)(o.ki,{placeholder:""})}),(0,r.jsx)(o.Bw,{children:x.bZ.map(e=>(0,r.jsx)(o.Ql,{value:e.value,children:e.label},e.value))})]}):(0,r.jsx)(b.O,{className:"w-full h-[35px]"})}),(0,r.jsx)(a.zG,{})]})}}),(0,r.jsx)(a.Wi,{control:P.control,name:"fullName",render:e=>{let{field:l}=e;return(0,r.jsxs)(a.xJ,{children:[(0,r.jsx)(a.lX,{children:"Nome completo"}),(0,r.jsx)(a.NI,{children:(0,r.jsx)(t.I,{...l})}),(0,r.jsx)(a.zG,{})]})}}),P.watch("type")===v.F.Veterinarian&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Wi,{control:P.control,name:"crmv",render:e=>{let{field:l}=e;return(0,r.jsxs)(a.xJ,{children:[(0,r.jsx)(a.lX,{children:"CRMV"}),(0,r.jsx)(a.pf,{children:"N\xfamero de inscri\xe7\xe3o no Conselho Regional de Medicina Veterin\xe1ria"}),(0,r.jsx)(a.NI,{children:(0,r.jsx)(t.I,{placeholder:"00000",...l})}),(0,r.jsx)(a.zG,{})]})}}),(0,r.jsx)(a.Wi,{control:P.control,name:"uf",render:e=>{let{field:l}=e;return(0,r.jsxs)(a.xJ,{children:[(0,r.jsx)(a.lX,{children:"UF"}),(0,r.jsx)(a.pf,{children:"Unidade Federativa referente ao CRMV"}),(0,r.jsx)(a.NI,{children:(0,r.jsx)(F.h,{className:"w-full",onValueChange:l.onChange,value:l.value,items:x.gM,placeholder:"Selecione uma UF",searchPlaceholder:"Pesquise por uma UF"})}),(0,r.jsx)(a.zG,{})]})}})]}),(0,r.jsx)(a.Wi,{control:P.control,name:"email",render:e=>{let{field:l}=e;return(0,r.jsxs)(a.xJ,{children:[(0,r.jsx)(a.lX,{children:"E-mail"}),(0,r.jsx)(a.NI,{children:(0,r.jsx)(t.I,{...l})}),(0,r.jsx)(a.zG,{})]})}}),(0,r.jsx)("div",{className:"flex gap-2 justify-end",children:(0,r.jsx)(s.z,{type:"submit",disabled:!l||n,children:"Salvar altera\xe7\xf5es"})})]})})]}),(0,r.jsx)(N.P,{title:"Salvar altera\xe7\xf5es",description:"Deseja salvar as altera\xe7\xf5es feitas?",secondaryButtonText:"Descartar",confirmText:"Salvar",onCancel:function(){z(!1)},onSecondaryButton:function(){P.reset(),h.Am.info("Altera\xe7\xf5es descartadas"),z(!1)},onConfirm:function(){P.handleSubmit(_)(),z(!1)},hideSecondaryButton:!1,invertActionButtonOrder:!0,isOpen:I})]})}}},function(e){e.O(0,[310,962,159,593,881,454,324,698,911,746,971,23,744],function(){return e(e.s=5545)}),_N_E=e.O()}]);