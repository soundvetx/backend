(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{7580:function(e,t,r){Promise.resolve().then(r.bind(r,4291))},4291:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(7437),s=r(9772);let a=s.z.object({email:s.z.string().trim().min(1,{message:"Preencha o campo de e-mail."}).email({message:"E-mail inv\xe1lido."}),password:s.z.string().trim().min(1,{message:"Preencha o campo de senha."})});var i=r(7518),l=r(3334),o=r(5775),c=r(9733),u=r(7114),d=r(7209),f=r(1014),m=r(7138),x=r(9343),h=r(296),p=r(6463),g=r(7456);function w(){let e=(0,p.useSearchParams)(),t=e.get("email"),r=e.get("password"),{isLoading:s,setIsLoading:w}=(0,g.r)(),{signIn:v}=(0,h.a)(),y=(0,x.cI)({resolver:(0,f.F)(a),defaultValues:{email:null!=t?t:"",password:null!=r?r:""}});async function j(e){w(!0),await v(e),w(!1)}return(0,n.jsxs)("main",{className:"flex flex-col items-center justify-center w-full h-full min-h-dvh max-w-md mx-auto py-8 px-4",children:[(0,n.jsx)(l.U,{title:"SoundvetX",size:"large"}),(0,n.jsx)(u.l0,{...y,children:(0,n.jsxs)("form",{onSubmit:y.handleSubmit(j),className:"flex flex-col w-full gap-8 mt-5",children:[(0,n.jsxs)(i.h,{title:"Login",align:"center",children:[(0,n.jsx)(u.Wi,{control:y.control,name:"email",render:e=>{let{field:t}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"E-mail"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(d.I,{placeholder:"nome@exemplo.com",...t})}),(0,n.jsx)(u.zG,{})]})}}),(0,n.jsx)(u.Wi,{control:y.control,name:"password",render:e=>{let{field:t}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Senha"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(o.W,{placeholder:"**********",...t})}),(0,n.jsx)(u.zG,{})]})}})]}),(0,n.jsx)(c.z,{type:"submit",disabled:s,children:"Entrar"}),(0,n.jsxs)("div",{className:"text-center",children:["N\xe3o possui uma conta? ",(0,n.jsx)(m.default,{href:"./register.html",children:"Cadastre uma agora!"})]})]})})]})}},7518:function(e,t,r){"use strict";r.d(t,{h:function(){return i}});var n=r(7437),s=r(2265),a=r(9354);let i=s.forwardRef((e,t)=>{let{className:r,title:i,align:l="left",children:o,...c}=e,u=s.useId();return(0,n.jsxs)("div",{id:u,ref:t,className:(0,a.cn)("flex flex-col w-full",r),...c,children:[(0,n.jsx)("h2",{className:"text-xl sm:text-1.5xl font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 mb-4 text-".concat(l),children:i}),(0,n.jsx)("div",{className:"flex flex-col gap-5",children:o})]})});i.displayName="FormSection"},7300:function(e,t,r){"use strict";r.d(t,{LoadingPage:function(){return l}});var n=r(7437),s=r(2265),a=r(9354),i=r(6346);let l=s.forwardRef((e,t)=>{let{className:r,size:l=5,...o}=e,c=s.useId();return(0,n.jsx)("div",{id:c,ref:t,className:(0,a.cn)("flex flex-col items-center justify-center fixed top-0 left-0 loading-background text-loading-foreground z-50 h-full w-full",r),...o,children:(0,n.jsx)(i.Z,{size:4*l})})});l.displayName="LoadingPage"},3334:function(e,t,r){"use strict";r.d(t,{U:function(){return l}});var n=r(7437),s=r(2265),a=r(9354);let i=(0,r(3027).j)("font-bold tracking-tight text-center",{variants:{size:{small:"text-xl sm:text-2xl",medium:"text-2xl sm:text-4xl",large:"text-4xl sm:text-6xl"}},defaultVariants:{size:"small"}}),l=s.forwardRef((e,t)=>{let{className:r,size:l,title:o,subtitle:c,...u}=e,d=s.useId();return(0,n.jsxs)("div",{id:d,ref:t,className:(0,a.cn)("flex flex-col gap-2 items-center",r),...u,children:[(0,n.jsx)("h2",{className:(0,a.cn)(i({size:l})),children:o}),(0,n.jsx)("p",{className:"text-base leading-6 text-center",children:c})]})});l.displayName="MainTitle"},5775:function(e,t,r){"use strict";r.d(t,{W:function(){return u}});var n=r(7437),s=r(9354),a=r(2265),i=r(9733),l=r(7209),o=r(5733),c=r(7019);let u=(0,a.forwardRef)((e,t)=>{let{className:r,...u}=e,[d,f]=(0,a.useState)(!1),m=u.disabled;return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(l.I,{type:d?"text":"password",className:(0,s.cn)("hide-password-toggle pr-10",r),ref:t,...u}),(0,n.jsxs)(i.z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(e=>!e),disabled:u.disabled,children:[d&&!m?(0,n.jsx)(o.Z,{className:"h-4 w-4","aria-hidden":"true"}):(0,n.jsx)(c.Z,{className:"h-4 w-4","aria-hidden":"true"}),(0,n.jsx)("span",{className:"sr-only",children:d?"Esconder senha":"Mostrar senha"})]}),(0,n.jsx)("style",{children:"\n					.hide-password-toggle::-ms-reveal,\n					.hide-password-toggle::-ms-clear {\n						visibility: hidden;\n						pointer-events: none;\n						display: none;\n					}\n				"})]})});u.displayName="PasswordInput"},9733:function(e,t,r){"use strict";r.d(t,{d:function(){return o},z:function(){return c}});var n=r(7437),s=r(2265),a=r(1538),i=r(3027),l=r(9354);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:c=!1,...u}=e,d=c?a.g7:"button";return(0,n.jsx)(d,{className:(0,l.cn)(o({variant:s,size:i,className:r})),ref:t,...u})});c.displayName="Button"},7114:function(e,t,r){"use strict";r.d(t,{l0:function(){return d},NI:function(){return w},pf:function(){return v},Wi:function(){return m},xJ:function(){return p},lX:function(){return g},zG:function(){return y}});var n=r(7437),s=r(2265),a=r(1538),i=r(9343),l=r(9354),o=r(8364);let c=(0,r(3027).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(o.f,{ref:t,className:(0,l.cn)(c(),r),...s})});u.displayName=o.f.displayName;let d=i.RV,f=s.createContext({}),m=e=>{let{...t}=e;return(0,n.jsx)(f.Provider,{value:{name:t.name},children:(0,n.jsx)(i.Qr,{...t})})},x=()=>{let e=s.useContext(f),t=s.useContext(h),{getFieldState:r,formState:n}=(0,i.Gc)(),a=r(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...a}},h=s.createContext({}),p=s.forwardRef((e,t)=>{let{className:r,...a}=e,i=s.useId();return(0,n.jsx)(h.Provider,{value:{id:i},children:(0,n.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",r),...a})})});p.displayName="FormItem";let g=s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:a,formItemId:i}=x();return(0,n.jsx)(u,{ref:t,className:(0,l.cn)(a&&"text-destructive",r),htmlFor:i,...s})});g.displayName="FormLabel";let w=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:i,formDescriptionId:l,formMessageId:o}=x();return(0,n.jsx)(a.g7,{ref:t,id:i,"aria-describedby":s?"".concat(l," ").concat(o):"".concat(l),"aria-invalid":!!s,...r})});w.displayName="FormControl";let v=s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:a}=x();return(0,n.jsx)("p",{ref:t,id:a,className:(0,l.cn)("text-[0.8rem] text-muted-foreground",r),...s})});v.displayName="FormDescription";let y=s.forwardRef((e,t)=>{let{className:r,children:s,...a}=e,{error:i,formMessageId:o}=x(),c=i?String(null==i?void 0:i.message):s;return c?(0,n.jsx)("p",{ref:t,id:o,className:(0,l.cn)("text-[0.8rem] font-medium text-destructive",r),...a,children:c}):null});y.displayName="FormMessage"},7209:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var n=r(7437),s=r(2265),a=r(9354);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,n.jsx)("input",{type:s,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},296:function(e,t,r){"use strict";r.d(t,{H:function(){return x},a:function(){return h}});var n=r(7437),s=r(2265),a=r(6463),i=r(7776),l=r(64),o=r(6508);async function c(e){let{email:t,password:r}=e,{message:n,data:s}=await (0,o.wG)({url:"/api/sign-in",method:"POST",data:{email:t,password:r}});return{message:n,data:s}}async function u(){let{message:e}=await (0,o.wG)({url:"/api/sign-out",method:"POST"});return{message:e}}async function d(){let{message:e,data:t}=await (0,o.wG)({url:"/api/me",method:"GET",retry:!1});return{message:e,data:t}}var f=r(7456);let m=(0,s.createContext)({});function x(e){let{children:t}=e,r=(0,a.useRouter)(),{setIsLoading:o}=(0,f.r)(),[x,h]=(0,s.useState)(null);async function p(){try{let{data:e}=await d();if(!e)return;h(e.user)}catch(t){let{status:e}=t;401===e&&r.replace("./login.html")}}async function g(e){let{fullName:t,email:n,password:s,confirmPassword:a,...c}=e;o(!0);try{let{message:e}=await (0,l.r)({fullName:t,email:n,password:s,confirmPassword:a,...c});i.Am.success(e.clientMessage),r.push("./index.htmllogin?email=".concat(n,"&password=").concat(s))}catch(n){let{message:e,status:t}=n;i.Am.error(e.clientMessage),401===t&&r.replace("./login.html")}finally{o(!1)}}async function w(e){let{email:t,password:n}=e;o(!0);try{let{message:e,data:s}=await c({email:t,password:n});h(s.user),i.Am.success(e.clientMessage),r.push("./index.html")}catch(n){let{message:e,status:t}=n;i.Am.error(e.clientMessage),401===t&&r.replace("./login.html")}finally{o(!1)}}async function v(){o(!0);try{let{message:e}=await u();h(null),i.Am.success(e.clientMessage),r.replace("./login.html")}catch(n){let{message:e,status:t}=n;i.Am.error(e.clientMessage),401===t&&r.replace("./login.html")}finally{o(!1)}}return(0,s.useEffect)(()=>{["./login.html","./register.html"].includes(window.location.pathname)||p()},[]),(0,n.jsx)(m.Provider,{value:{isAuthenticated:!!x,user:x,signUp:g,signIn:w,signOut:v},children:t})}function h(){return(0,s.useContext)(m)}},7456:function(e,t,r){"use strict";r.d(t,{P:function(){return l},r:function(){return o}});var n=r(7437),s=r(2265),a=r(7300);let i=(0,s.createContext)({});function l(e){let{children:t}=e,[r,l]=(0,s.useState)(!1);return(0,n.jsxs)(i.Provider,{value:{isLoading:r,setIsLoading:l},children:[t,r&&(0,n.jsx)(a.LoadingPage,{})]})}function o(){return(0,s.useContext)(i)}},64:function(e,t,r){"use strict";r.d(t,{r:function(){return s}});var n=r(6508);async function s(e){let{type:t,fullName:r,email:s,password:a,confirmPassword:i,...l}=e,{message:o,data:c}=await (0,n.wG)({url:"/api/users",method:"POST",data:{type:t,fullName:r,email:s,password:a,confirmPassword:i,...l}});return{message:o,data:c}}},9354:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(4839),s=r(6164);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}},6508:function(e,t,r){"use strict";async function n(e){let{url:t,method:r,data:a,retry:i=!0}=e,l=await fetch(t,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(401===l.status)try{if(await s(),i)return n({url:t,method:r,data:a});return}catch(e){throw e}let o=await l.json();if(l.ok)return o;throw{message:o.message,status:l.status}}async function s(){let e=await fetch("/api/refresh-token",{method:"POST",headers:{"Content-Type":"application/json"}}),t=await e.json();if(!e.ok)throw{message:t.message,status:e.status}}r.d(t,{wG:function(){return n}})}},function(e){e.O(0,[962,159,881,138,971,23,744],function(){return e(e.s=7580)}),_N_E=e.O()}]);