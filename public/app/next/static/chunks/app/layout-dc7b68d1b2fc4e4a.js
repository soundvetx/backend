(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{361:function(t,e,n){Promise.resolve().then(n.t.bind(n,7131,23)),Promise.resolve().then(n.bind(n,2650)),Promise.resolve().then(n.bind(n,7300)),Promise.resolve().then(n.bind(n,4264)),Promise.resolve().then(n.t.bind(n,5204,23))},2650:function(t,e,n){"use strict";n.d(e,{Providers:function(){return o}});var r=n(7437),a=n(296),s=n(7456);function o(t){let{children:e}=t;return(0,r.jsx)(s.P,{children:(0,r.jsx)(a.H,{children:e})})}},7300:function(t,e,n){"use strict";n.d(e,{LoadingPage:function(){return i}});var r=n(7437),a=n(2265),s=n(9354),o=n(6346);let i=a.forwardRef((t,e)=>{let{className:n,size:i=5,...u}=t,c=a.useId();return(0,r.jsx)("div",{id:c,ref:e,className:(0,s.cn)("flex flex-col items-center justify-center fixed top-0 left-0 loading-background text-loading-foreground z-50 h-full w-full",n),...u,children:(0,r.jsx)(o.Z,{size:4*i})})});i.displayName="LoadingPage"},4264:function(t,e,n){"use strict";n.d(e,{Toaster:function(){return c}});var r=n(7437),a=n(2265),s=a.createContext(void 0),o={setTheme:t=>{},themes:[]},i=()=>{var t;return null!=(t=a.useContext(s))?t:o},u=n(7776);let c=t=>{let{...e}=t,{theme:n="system"}=i();return(0,r.jsx)(u.x7,{theme:n,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})}},296:function(t,e,n){"use strict";n.d(e,{H:function(){return m},a:function(){return h}});var r=n(7437),a=n(2265),s=n(6463),o=n(7776),i=n(64),u=n(6508);async function c(t){let{email:e,password:n}=t,{message:r,data:a}=await (0,u.wG)({url:"/api/sign-in",method:"POST",data:{email:e,password:n}});return{message:r,data:a}}async function l(){let{message:t}=await (0,u.wG)({url:"/api/sign-out",method:"POST"});return{message:t}}async function f(){let{message:t,data:e}=await (0,u.wG)({url:"/api/me",method:"GET",retry:!1});return{message:t,data:e}}var d=n(7456);let g=(0,a.createContext)({});function m(t){let{children:e}=t,n=(0,s.useRouter)(),{setIsLoading:u}=(0,d.r)(),[m,h]=(0,a.useState)(null);async function p(){try{let{data:t}=await f();if(!t)return;h(t.user)}catch(e){let{status:t}=e;401===t&&n.replace("./login.html")}}async function y(t){let{fullName:e,email:r,password:a,confirmPassword:s,...c}=t;u(!0);try{let{message:t}=await (0,i.r)({fullName:e,email:r,password:a,confirmPassword:s,...c});o.Am.success(t.clientMessage),n.push("./index.htmllogin?email=".concat(r,"&password=").concat(a))}catch(r){let{message:t,status:e}=r;o.Am.error(t.clientMessage),401===e&&n.replace("./login.html")}finally{u(!1)}}async function w(t){let{email:e,password:r}=t;u(!0);try{let{message:t,data:a}=await c({email:e,password:r});h(a.user),o.Am.success(t.clientMessage),n.push("./index.html")}catch(r){let{message:t,status:e}=r;o.Am.error(t.clientMessage),401===e&&n.replace("./login.html")}finally{u(!1)}}async function v(){u(!0);try{let{message:t}=await l();h(null),o.Am.success(t.clientMessage),n.replace("./login.html")}catch(r){let{message:t,status:e}=r;o.Am.error(t.clientMessage),401===e&&n.replace("./login.html")}finally{u(!1)}}return(0,a.useEffect)(()=>{["./login.html","./register.html"].includes(window.location.pathname)||p()},[]),(0,r.jsx)(g.Provider,{value:{isAuthenticated:!!m,user:m,signUp:y,signIn:w,signOut:v},children:e})}function h(){return(0,a.useContext)(g)}},7456:function(t,e,n){"use strict";n.d(e,{P:function(){return i},r:function(){return u}});var r=n(7437),a=n(2265),s=n(7300);let o=(0,a.createContext)({});function i(t){let{children:e}=t,[n,i]=(0,a.useState)(!1);return(0,r.jsxs)(o.Provider,{value:{isLoading:n,setIsLoading:i},children:[e,n&&(0,r.jsx)(s.LoadingPage,{})]})}function u(){return(0,a.useContext)(o)}},64:function(t,e,n){"use strict";n.d(e,{r:function(){return a}});var r=n(6508);async function a(t){let{type:e,fullName:n,email:a,password:s,confirmPassword:o,...i}=t,{message:u,data:c}=await (0,r.wG)({url:"/api/users",method:"POST",data:{type:e,fullName:n,email:a,password:s,confirmPassword:o,...i}});return{message:u,data:c}}},9354:function(t,e,n){"use strict";n.d(e,{cn:function(){return s}});var r=n(4839),a=n(6164);function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,a.m6)((0,r.W)(e))}},6508:function(t,e,n){"use strict";async function r(t){let{url:e,method:n,data:s,retry:o=!0}=t,i=await fetch(e,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(401===i.status)try{if(await a(),o)return r({url:e,method:n,data:s});return}catch(t){throw t}let u=await i.json();if(i.ok)return u;throw{message:u.message,status:i.status}}async function a(){let t=await fetch("/api/refresh-token",{method:"POST",headers:{"Content-Type":"application/json"}}),e=await t.json();if(!t.ok)throw{message:e.message,status:t.status}}n.d(e,{wG:function(){return r}})},5204:function(){},7131:function(t){t.exports={style:{fontFamily:"'__Inter_d65c78', '__Inter_Fallback_d65c78'",fontStyle:"normal"},className:"__className_d65c78",variable:"__variable_d65c78"}}},function(t){t.O(0,[384,962,971,23,744],function(){return t(t.s=361)}),_N_E=t.O()}]);