(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[746],{2431:function(){},2753:function(e,a,s){"use strict";s.d(a,{R:function(){return P},Z:function(){return N}});var n=s(7437),r=s(2265),t=s(7641),i=s(7776),o=s(9343),c=s(1014),d=s(4662),l=s(9733),m=s(7456),u=s(7114),f=s(9983),p=s(7812),h=s(5775),g=s(9772);let x=g.ZP.object({currentPassword:g.ZP.string().trim().min(1,{message:"Preencha o campo com a senha atual."}),newPassword:g.ZP.string().trim().min(1,{message:"Preencha o campo de nova senha."}).min(5,{message:"A nova senha deve ter no m\xednimo 5 caracteres."}),confirmNewPassword:g.ZP.string().trim().min(1,{message:"Preencha o campo de confirma\xe7\xe3o de senha."})}).refine(e=>e.newPassword===e.confirmNewPassword,{message:"As senhas n\xe3o coincidem.",path:["confirmNewPassword"]});var w=s(6508);async function j(e){let{userId:a,values:s}=e,{message:n}=await (0,w.wG)({url:"/api/users/".concat(a,"/change-password"),method:"PATCH",data:s});return{message:n}}async function y(e){let{userId:a}=e,{message:s,data:n}=await (0,w.wG)({url:"/api/users/".concat(a,"/reset-password"),method:"PATCH"});return{message:s,data:n}}let N=r.forwardRef((e,a)=>{let{user:s,children:o,...c}=e,{setIsLoading:d}=(0,m.r)(),[u,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),[x,w]=(0,r.useState)(""),[j,N]=(0,r.useState)("");async function P(e){if(!navigator.clipboard)return;let a=e?j:x;await navigator.clipboard.writeText(a),w(""),N(""),g(!1),i.Am.success("Senha copiada para a \xe1rea de transfer\xeancia")}async function v(){d(!0);try{let{message:e,data:a}=await y({userId:s.id});i.Am.success(e.clientMessage),w(a.newPassword),N("A nova senha \xe9: ".concat(a.newPassword)),p(!1),g(!0)}catch(s){let{status:e,message:a}=s;i.Am.error(a.clientMessage),401===e&&t.default.replace("./login.html")}finally{d(!1)}}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.z,{ref:a,className:"flex gap-1 p-2",type:"button",onClick:()=>p(!0),...c,children:o}),(0,n.jsx)(f.P,{title:"Redefini\xe7\xe3o de senha",description:"Voc\xea tem certeza que deseja redefinir a senha do usu\xe1rio?",confirmText:"Sim",onCancel:()=>p(!1),onConfirm:v,isOpen:u},"alert-confirm-reset-password"),(0,n.jsx)(f.P,{title:"Redefini\xe7\xe3o de senha",description:j,secondaryButtonText:"Copiar senha com texto",confirmText:"Copiar senha",onSecondaryButton:()=>P(!0),onConfirm:()=>P(!1),hideSecondaryButton:!1,hideCancelButton:!0,invertActionButtonOrder:!0,isOpen:h},"alert-reset-password")]})});N.displayName="PasswordResetDialog";let P=r.forwardRef((e,a)=>{let{user:s,children:g}=e,{isLoading:w,setIsLoading:y}=(0,m.r)(),[N,P]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),z={currentPassword:"",newPassword:"",confirmNewPassword:""},C=(0,o.cI)({resolver:(0,c.F)(x),defaultValues:z});async function A(e){y(!0);try{let{message:a}=await j({userId:s.id,values:e});i.Am.success(a.clientMessage),C.reset(),P(!1)}catch(s){let{status:e,message:a}=s;i.Am.error(a.clientMessage),401===e&&t.default.replace("./login.html")}finally{y(!1)}}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.P,{title:"Altera\xe7\xf5es pendentes",description:"Deseja continuar alterando sua senha?",secondaryButtonText:"Descartar",confirmText:"Continuar",onCancel:function(){b(!1)},onSecondaryButton:function(){C.reset(),i.Am.info("Altera\xe7\xf5es descartadas"),b(!1),P(!1)},onConfirm:function(){b(!1)},hideSecondaryButton:!1,invertActionButtonOrder:!0,isOpen:v}),(0,n.jsxs)(d.Vq,{open:N,onOpenChange:P,children:[(0,n.jsx)(d.hg,{asChild:!0,children:g}),(0,n.jsxs)(d.cZ,{disableOutsideClick:!0,onClose:function(e){if((0,p.a)(C.getValues(),z)){e.preventDefault(),b(!0);return}},className:"responsive-dialog",children:[(0,n.jsxs)(d.fK,{children:[(0,n.jsx)(d.$N,{children:"Alterar senha"}),(0,n.jsx)(d.Be,{children:"Preencha os campos para alterar sua senha"})]}),(0,n.jsx)(u.l0,{...C,children:(0,n.jsxs)("form",{onSubmit:C.handleSubmit(A),className:"flex flex-col w-full gap-4",ref:a,children:[(0,n.jsx)(u.Wi,{control:C.control,name:"currentPassword",render:e=>{let{field:a}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Senha atual"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(h.W,{...a})}),(0,n.jsx)(u.zG,{})]})}}),(0,n.jsx)(u.Wi,{control:C.control,name:"newPassword",render:e=>{let{field:a}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Nova senha"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(h.W,{...a})}),(0,n.jsx)(u.zG,{})]})}}),(0,n.jsx)(u.Wi,{control:C.control,name:"confirmNewPassword",render:e=>{let{field:a}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Confirmar nova senha"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(h.W,{...a})}),(0,n.jsx)(u.zG,{})]})}}),(0,n.jsx)(d.cN,{children:(0,n.jsx)(l.z,{type:"submit",disabled:w,children:"Salvar"})})]})})]})]})]})});P.displayName="PasswordChangeDialog"},5775:function(e,a,s){"use strict";s.d(a,{W:function(){return l}});var n=s(7437),r=s(9354),t=s(2265),i=s(9733),o=s(7209),c=s(5733),d=s(7019);let l=(0,t.forwardRef)((e,a)=>{let{className:s,...l}=e,[m,u]=(0,t.useState)(!1),f=l.disabled;return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(o.I,{type:m?"text":"password",className:(0,r.cn)("hide-password-toggle pr-10",s),ref:a,...l}),(0,n.jsxs)(i.z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(e=>!e),disabled:l.disabled,children:[m&&!f?(0,n.jsx)(c.Z,{className:"h-4 w-4","aria-hidden":"true"}):(0,n.jsx)(d.Z,{className:"h-4 w-4","aria-hidden":"true"}),(0,n.jsx)("span",{className:"sr-only",children:m?"Esconder senha":"Mostrar senha"})]}),(0,n.jsx)("style",{children:"\n					.hide-password-toggle::-ms-reveal,\n					.hide-password-toggle::-ms-clear {\n						visibility: hidden;\n						pointer-events: none;\n						display: none;\n					}\n				"})]})});l.displayName="PasswordInput"},9888:function(e,a,s){"use strict";s.d(a,{Bw:function(){return f},Ph:function(){return c},Ql:function(){return p},i4:function(){return l},ki:function(){return d}});var n=s(7437),r=s(2265),t=s(4867),i=s(3267),o=s(9354);let c=i.fC;i.ZA;let d=i.B4,l=r.forwardRef((e,a)=>{let{className:s,children:r,...c}=e;return(0,n.jsxs)(i.xz,{ref:a,className:(0,o.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...c,children:[r,(0,n.jsx)(i.JO,{asChild:!0,children:(0,n.jsx)(t.jnn,{className:"h-4 w-4 opacity-50"})})]})});l.displayName=i.xz.displayName;let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,n.jsx)(i.u_,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,n.jsx)(t.g8U,{})})});m.displayName=i.u_.displayName;let u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,n.jsx)(i.$G,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,n.jsx)(t.v4q,{})})});u.displayName=i.$G.displayName;let f=r.forwardRef((e,a)=>{let{className:s,children:r,position:t="popper",...c}=e;return(0,n.jsx)(i.h_,{children:(0,n.jsxs)(i.VY,{ref:a,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...c,children:[(0,n.jsx)(m,{}),(0,n.jsx)(i.l_,{className:(0,o.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,n.jsx)(u,{})]})})});f.displayName=i.VY.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,n.jsx)(i.__,{ref:a,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",s),...r})}).displayName=i.__.displayName;let p=r.forwardRef((e,a)=>{let{className:s,children:r,...c}=e;return(0,n.jsxs)(i.ck,{ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...c,children:[(0,n.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(i.wU,{children:(0,n.jsx)(t.nQG,{className:"h-4 w-4"})})}),(0,n.jsx)(i.eT,{children:r})]})});p.displayName=i.ck.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,n.jsx)(i.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=i.Z0.displayName},1377:function(e,a,s){"use strict";s.d(a,{N:function(){return r}});var n=s(6508);async function r(e){let{userId:a,values:s}=e,{type:r,fullName:t,email:i,...o}=s,{message:c,data:d}=await (0,n.wG)({url:"/api/users/".concat(a),method:"PUT",data:{type:r,fullName:t,email:i,...o}});return{message:c,data:d}}},9666:function(e,a,s){"use strict";s.d(a,{i:function(){return o},y:function(){return l}});var n=s(9772),r=s(77);let t=n.z.object({type:n.z.enum([r.F.Admin,r.F.Dev]),fullName:n.z.string().trim().min(1,{message:"Preencha o campo de nome completo."}),email:n.z.string().trim().min(1,{message:"Preencha o campo de e-mail."}).email({message:"E-mail inv\xe1lido."}),password:n.z.string().trim().min(1,{message:"Preencha o campo de senha."}).min(5,{message:"A senha deve ter no m\xednimo 5 caracteres."}),confirmPassword:n.z.string().trim().min(1,{message:"Preencha o campo de confirma\xe7\xe3o de senha."})}).refine(e=>e.password===e.confirmPassword,{message:"As senhas n\xe3o coincidem.",path:["confirmPassword"]}),i=n.z.object({type:n.z.literal(r.F.Veterinarian),fullName:n.z.string().trim().min(1,{message:"Preencha o campo de nome completo."}),crmv:n.z.string().trim().min(1,{message:"Preencha o campo de CRMV."}),uf:n.z.string().trim().min(1,{message:"Preencha o campo de UF."}),email:n.z.string().trim().min(1,{message:"Preencha o campo de e-mail."}).email({message:"E-mail inv\xe1lido."}),password:n.z.string().trim().min(1,{message:"Preencha o campo de senha."}).min(5,{message:"A senha deve ter no m\xednimo 5 caracteres."}),confirmPassword:n.z.string().trim().min(1,{message:"Preencha o campo de confirma\xe7\xe3o de senha."})}).refine(e=>e.password===e.confirmPassword,{message:"As senhas n\xe3o coincidem.",path:["confirmPassword"]}),o=n.z.union([t,i]),c=n.z.object({type:n.z.enum([r.F.Admin,r.F.Dev]),fullName:n.z.string().trim().min(1,{message:"Preencha o campo de nome completo."}),email:n.z.string().trim().min(1,{message:"Preencha o campo de e-mail."}).email({message:"E-mail inv\xe1lido."})}),d=n.z.object({type:n.z.literal(r.F.Veterinarian),fullName:n.z.string().trim().min(1,{message:"Preencha o campo de nome completo."}),crmv:n.z.string().trim().min(1,{message:"Preencha o campo de CRMV."}),uf:n.z.string().trim().min(1,{message:"Preencha o campo de UF."}),email:n.z.string().trim().min(1,{message:"Preencha o campo de e-mail."}).email({message:"E-mail inv\xe1lido."})}),l=n.z.union([c,d])},7812:function(e,a,s){"use strict";function n(e,a){return JSON.stringify(e)!==JSON.stringify(a)}s.d(a,{a:function(){return n}})}}]);